<%- include('partials/header', { title: 'Registro' }) %>

<h2>Registro</h2>

<% if (typeof error !== 'undefined') { %>
  <div class="error"><%= error %></div>
<% } %>

<form id="registroForm" method="POST" action="/registro" enctype="multipart/form-data">
  <!-- Selector de tipo de usuario -->
  <% if (tipoUsuario === 'negocio') { %>
  <!-- formulario negocio -->
<% } else if (tipoUsuario === 'delivery') { %>
  <!-- formulario delivery -->
<% } %>

  <!-- Campos comunes -->
  <label for="email">Email</label>
  <input type="email" id="email" name="email"
    value="<%= formData ? formData.email : '' %>" required />

  <label for="password">Contraseña</label>
  <input type="password" id="password" name="password"
    placeholder="Contraseña" required minlength="8" />

  <!-- Formulario negocio -->
  <div id="formNegocio" class="hidden">
    <label>Nombre</label>
    <input type="text" id="nombreNegocio" name="nombreNegocio"
      value="<%= formData ? formData.nombreNegocio : '' %>">

    <label>Apellido</label>
    <input type="text" id="apellidoNegocio" name="apellidoNegocio"
      value="<%= formData ? formData.apellidoNegocio : '' %>">

    <label>Celular</label>
    <input type="tel" id="celularNegocio" name="celularNegocio"
      value="<%= formData ? formData.celularNegocio : '' %>">

    <label>DNI</label>
    <input type="text" id="dniNegocio" name="dniNegocio"
      value="<%= formData ? formData.dniNegocio : '' %>">

    <label>Nombre del negocio</label>
    <input type="text" id="negocioNombre" name="negocioNombre"
      value="<%= formData ? formData.negocioNombre : '' %>">

    <label>Logo del negocio</label>
    <input type="file" id="negocioLogo" name="negocioLogo" accept="image/*">

    <label>Dirección</label>
    <input type="text" id="negocioDireccion" name="negocioDireccion"
      value="<%= formData ? formData.negocioDireccion : '' %>">

    <label>Rubro</label>
    <input type="text" id="negocioRubro" name="negocioRubro"
      value="<%= formData ? formData.negocioRubro : '' %>">
  </div>

  <!-- Formulario delivery -->
  <div id="formDelivery" class="hidden">
    <label>Nombre</label>
    <input type="text" id="nombreDelivery" name="nombreDelivery"
      value="<%= formData ? formData.nombreDelivery : '' %>">

    <label>Apellido</label>
    <input type="text" id="apellidoDelivery" name="apellidoDelivery"
      value="<%= formData ? formData.apellidoDelivery : '' %>">

    <label>Celular</label>
    <input type="tel" id="celularDelivery" name="celularDelivery"
      value="<%= formData ? formData.celularDelivery : '' %>">

    <label>DNI</label>
    <input type="text" id="dniDelivery" name="dniDelivery"
      value="<%= formData ? formData.dniDelivery : '' %>">

    <label>Tipo de vehículo</label>
    <input type="text" id="vehiculoTipo" name="vehiculoTipo"
      value="<%= formData ? formData.vehiculoTipo : '' %>">

    <label>Patente</label>
    <input type="text" id="vehiculoPatente" name="vehiculoPatente"
      value="<%= formData ? formData.vehiculoPatente : '' %>">

    <label>Color</label>
    <input type="text" id="vehiculoColor" name="vehiculoColor"
      value="<%= formData ? formData.vehiculoColor : '' %>">

    <label>Modelo</label>
    <input type="text" id="vehiculoModelo" name="vehiculoModelo"
      value="<%= formData ? formData.vehiculoModelo : '' %>">

    <label>Seguro</label>
    <input type="file" id="seguro" name="seguro" accept="image/*,.pdf">

    <label>Permiso de conducir</label>
    <input type="file" id="permisoConducir" name="permisoConducir" accept="image/*,.pdf">
  </div>

  <button type="submit">Registrar</button>
</form>

<%- include('partials/footer') %>
<script src="/js/registro.js"></script>